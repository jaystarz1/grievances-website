<!DOCTYPE html>
<html lang="en-CA">
<head>
    <meta charset="UTF-8">
    <title>Image Optimization Implementation Guide</title>
    <style>
        body { font-family: system-ui; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .example { background: #f5f5f5; padding: 20px; margin: 20px 0; border-radius: 8px; }
        pre { background: #2d2d2d; color: #fff; padding: 15px; border-radius: 4px; overflow-x: auto; }
        h2 { color: #6B4C8A; }
        .warning { background: #fff3cd; border: 1px solid #ffc107; padding: 15px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>üñºÔ∏è Image Optimization Implementation</h1>
    
    <div class="warning">
        <strong>‚ö†Ô∏è Current Issue:</strong> Your images total 34.76 MB! This is causing:
        <ul>
            <li>10-20 second load times on mobile</li>
            <li>High bounce rates</li>
            <li>Poor SEO rankings</li>
            <li>Failed Core Web Vitals</li>
        </ul>
    </div>

    <h2>Step 1: Run the Optimization Script</h2>
    <pre>
cd /Users/jaytarzwell/Grievance\ Website
chmod +x optimize-images.sh
./optimize-images.sh
    </pre>

    <h2>Step 2: Replace Images in HTML - Modern Picture Element</h2>
    <div class="example">
        <h3>Replace this:</h3>
        <pre>&lt;img src="images/book-cover-ebook.jpg" alt="Book Cover"&gt;</pre>
        
        <h3>With this:</h3>
        <pre>&lt;picture&gt;
    &lt;!-- WebP for modern browsers --&gt;
    &lt;source srcset="images/book-cover-ebook.webp" type="image/webp"&gt;
    
    &lt;!-- Fallback to optimized JPG --&gt;
    &lt;img src="images/book-cover-ebook-opt.jpg" 
         alt="An Airing of Grievances - The Unofficial Guide to CAF Grievance Management"
         loading="lazy"
         width="1200"
         height="1800"
         decoding="async"&gt;
&lt;/picture&gt;</pre>
    </div>

    <h2>Step 3: Implement Lazy Loading with Blur-up Effect</h2>
    <div class="example">
        <pre>&lt;!-- Add this CSS --&gt;
&lt;style&gt;
.lazy-image-container {
    position: relative;
    overflow: hidden;
    background: #f0f0f0;
}

.lazy-image-placeholder {
    filter: blur(20px);
    transform: scale(1.1);
    transition: opacity 0.3s;
}

.lazy-image-full {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    transition: opacity 0.3s;
}

.lazy-image-full.loaded {
    opacity: 1;
}

.lazy-image-placeholder.fade {
    opacity: 0;
}
&lt;/style&gt;

&lt;!-- HTML Structure --&gt;
&lt;div class="lazy-image-container" style="padding-bottom: 150%;"&gt; &lt;!-- Aspect ratio --&gt;
    &lt;img class="lazy-image-placeholder" 
         src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBD..." 
         alt=""&gt;
    &lt;picture&gt;
        &lt;source data-srcset="images/book-cover-ebook.webp" type="image/webp"&gt;
        &lt;img class="lazy-image-full" 
             data-src="images/book-cover-ebook-opt.jpg"
             alt="An Airing of Grievances Book Cover"&gt;
    &lt;/picture&gt;
&lt;/div&gt;

&lt;!-- JavaScript --&gt;
&lt;script&gt;
// Lazy loading with Intersection Observer
const lazyImages = document.querySelectorAll('.lazy-image-full');

const imageObserver = new IntersectionObserver((entries, observer) =&gt; {
    entries.forEach(entry =&gt; {
        if (entry.isIntersecting) {
            const img = entry.target;
            const picture = img.closest('picture');
            const sources = picture.querySelectorAll('source');
            
            sources.forEach(source =&gt; {
                source.srcset = source.dataset.srcset;
            });
            
            img.src = img.dataset.src;
            img.addEventListener('load', () =&gt; {
                img.classList.add('loaded');
                const placeholder = img.closest('.lazy-image-container')
                    .querySelector('.lazy-image-placeholder');
                if (placeholder) {
                    placeholder.classList.add('fade');
                }
            });
            
            observer.unobserve(img);
        }
    });
});

lazyImages.forEach(img =&gt; imageObserver.observe(img));
&lt;/script&gt;</pre>
    </div>

    <h2>Step 4: Responsive Images</h2>
    <div class="example">
        <pre>&lt;picture&gt;
    &lt;!-- Mobile --&gt;
    &lt;source media="(max-width: 640px)" 
            srcset="images/book-cover-ebook-mobile.webp" 
            type="image/webp"&gt;
    &lt;source media="(max-width: 640px)" 
            srcset="images/book-cover-ebook-mobile.jpg" 
            type="image/jpeg"&gt;
    
    &lt;!-- Tablet --&gt;
    &lt;source media="(max-width: 1024px)" 
            srcset="images/book-cover-ebook-tablet.webp" 
            type="image/webp"&gt;
    &lt;source media="(max-width: 1024px)" 
            srcset="images/book-cover-ebook-tablet.jpg" 
            type="image/jpeg"&gt;
    
    &lt;!-- Desktop --&gt;
    &lt;source srcset="images/book-cover-ebook.webp" type="image/webp"&gt;
    
    &lt;!-- Fallback --&gt;
    &lt;img src="images/book-cover-ebook-opt.jpg" 
         alt="An Airing of Grievances - CAF Grievance Guide"
         loading="lazy"
         width="1200"
         height="1800"&gt;
&lt;/picture&gt;</pre>
    </div>

    <h2>Step 5: Preload Critical Images</h2>
    <div class="example">
        <pre>&lt;!-- Add to &lt;head&gt; for above-the-fold images --&gt;
&lt;link rel="preload" 
      as="image" 
      href="images/book-cover-ebook-opt.jpg"
      imagesrcset="images/book-cover-ebook.webp" 
      type="image/webp"&gt;</pre>
    </div>

    <h2>Quick Manual Optimization Options</h2>
    <div class="example">
        <h3>Option 1: Online Tools (Immediate)</h3>
        <ol>
            <li>Go to <a href="https://tinypng.com" target="_blank">TinyPNG.com</a></li>
            <li>Upload: book-cover-ebook.jpg</li>
            <li>Download optimized version</li>
            <li>Rename to: book-cover-ebook-opt.jpg</li>
            <li>Repeat for all images</li>
        </ol>

        <h3>Option 2: Mac Preview App</h3>
        <pre>
1. Open image in Preview
2. Tools ‚Üí Adjust Size ‚Üí Set to 1200px width
3. File ‚Üí Export ‚Üí Quality: 75%
4. Save as book-cover-ebook-opt.jpg
        </pre>

        <h3>Option 3: Command Line (ImageMagick)</h3>
        <pre>
# Install ImageMagick
brew install imagemagick

# Optimize images
convert images/book-cover-ebook.jpg -resize 1200x -quality 85 images/book-cover-ebook-opt.jpg
convert images/book-cover-paperback-spread.jpg -resize 2400x -quality 85 images/book-cover-paperback-opt.jpg
convert images/book-photo-author.jpg -resize 800x -quality 88 images/author-photo-opt.jpg
        </pre>
    </div>

    <h2>Target File Sizes</h2>
    <table border="1" style="width: 100%; border-collapse: collapse;">
        <tr>
            <th>Image</th>
            <th>Current Size</th>
            <th>Target Size</th>
            <th>Dimensions</th>
            <th>Quality</th>
        </tr>
        <tr>
            <td>book-cover-ebook.jpg</td>
            <td style="color: red;">13.74 MB</td>
            <td style="color: green;">150-200 KB</td>
            <td>1200x1800</td>
            <td>85%</td>
        </tr>
        <tr>
            <td>book-cover-paperback-spread.jpg</td>
            <td style="color: red;">18.55 MB</td>
            <td style="color: green;">200-250 KB</td>
            <td>2400x1600</td>
            <td>82%</td>
        </tr>
        <tr>
            <td>book-photo-author.jpg</td>
            <td style="color: red;">2.46 MB</td>
            <td style="color: green;">100-150 KB</td>
            <td>800x800</td>
            <td>88%</td>
        </tr>
    </table>

    <h2>Expected Performance Improvements</h2>
    <ul>
        <li>Page load time: 10-20s ‚Üí 1-2s (90% improvement)</li>
        <li>Lighthouse Performance Score: ~20 ‚Üí 90+</li>
        <li>Core Web Vitals: All passing</li>
        <li>Mobile experience: Drastically improved</li>
        <li>SEO ranking boost: Significant</li>
    </ul>
</body>
</html>
