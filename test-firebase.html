<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Connection Test</title>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <div id="status">Testing Firebase connection...</div>
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC5igEYEBv3aiXvDxjrOu0khrW8WHnU6sM",
            authDomain: "grievances-crm.firebaseapp.com",
            projectId: "grievances-crm",
            storageBucket: "grievances-crm.firebasestorage.app",
            messagingSenderId: "743994935319",
            appId: "1:743994935319:web:b73ba1dafcb2e604e27452"
        };
        
        try {
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
            
            // Test write
            db.collection('test').add({
                test: true,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(docRef => {
                document.getElementById('status').innerHTML = 
                    '<p style="color: green;">✅ Firebase is connected and working!</p>' +
                    '<p>Test document created with ID: ' + docRef.id + '</p>' +
                    '<p>Your CRM is ready to capture leads!</p>';
            })
            .catch(error => {
                document.getElementById('status').innerHTML = 
                    '<p style="color: red;">❌ Error connecting to Firebase:</p>' +
                    '<pre>' + error.message + '</pre>';
            });
        } catch (error) {
            document.getElementById('status').innerHTML = 
                '<p style="color: red;">❌ Error initializing Firebase:</p>' +
                '<pre>' + error.message + '</pre>';
        }
    </script>
</body>
</html>
